<!DOCTYPE html>
<html>
<head>

	<!-- Recommended meta tags -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<!-- PyScript CSS -->
	<link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
	<!-- This script tag bootstraps PyScript -->
	<script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
	<title>Graph CSV Data</title>

    <py-env>
        - numpy
        - pandas
    </py-env>
	
</head>
	
<body>
  <!-- <h1>Upload csv</h1>
          
                <div id="fileinput"></div>
                <div id="upload"></div>
                <div id="table"></div>
	-->

<!-- Try different upload file method -->
<p>Upload a csv File</p>
            <ol>
              <li>
                <label for="fileinput">File Upload:</label>
                <input type="file" name="fileinput" id="fileinput">
              </li>
            </ol>
 
	
	<py-script>
import asyncio
import pandas as pd
import matplotlib.pyplot as plt
		
def process_file(event):
	filename = document.getElementById('fileinput').files;
	df = pd.read_csv(filename);
	print(df.to_string());

def main():
	const inputElement = document.getElementById("input");
	inputElement.addEventListener("change", process_file, false);

<!-- 
		# Input file
		fileInput = pn.widgets.FileInput(accept='.csv')
		uploadButton = pn.widgets.Button(name='Upload', button_type = 'primary')
				
		uploadButton.on_click(process_file)
 -->	
		
main()
		
#plt.close("all")
	</py-script>

</body>
</html>
